<template>
    <lightning-card title="Carrinho de Compras" icon-name="standard:webcart">
        <hr>
        <template if:true={hasItems}>
            <ul class="custom-list">
                <template for:each={cartItems} for:item="item">
                    <li key={item.name} class="slds-m-around_small">
                        <lightning-card>
                            <div class="custom-box slds-m-around_medium">
                                <div class="item-image">
                                    <img src={item.imageUrl} alt="Carrinho Vazio" class="item-value-image" />
                                </div>
                                <div class="item-info" style="font-size: medium">
                                    <p>{item.name}</p>
                                    <p><strong>R$ {item.preco}</strong></p>
                                    <div class="slds-grid slds-grid_align-end">
                                        <span class="slds-box slds-box_xx-small slds-m-right_small custom-gray-background">
                                            Qtde: {item.qtdeSelect}
                                        </span>
                                        <lightning-button label="Excluir" variant="destructive" icon-name="utility:delete" onclick={handleRemoveItem} data-name={item.name}></lightning-button>
                                    </div>
                            </div>
                            </div>
                        </lightning-card>
                        <hr>
                    </li>
                </template>
            </ul>
            <div class="total-price-container slds-box slds-theme_shade">
                <p><strong>Total: R$ {totalPriceCart}</strong></p>
                <lightning-button label="Finalizar Compra" variant="Brand" onclick={handleCheckout}></lightning-button>
            </div>
        </template>
        <template if:false={hasItems}>
            <div class="empty-cart-container">
                <img src="https://www.modelosbar.com.br/Content/projeto/img/cesta-vazia.png" alt="Carrinho Vazio" class="empty-cart-image" />
            </div>
        </template>
    </lightning-card>
</template>
